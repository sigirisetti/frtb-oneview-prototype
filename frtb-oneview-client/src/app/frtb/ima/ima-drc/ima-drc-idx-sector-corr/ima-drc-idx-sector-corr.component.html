<div class="px-2 py-2">

    <mat-card>
        <mat-card-header class="bg-gradient-to-r from-indigo-100 to-green-200">
            <mat-card-title>Index and Sectors Correlations</mat-card-title>
            <mat-card-subtitle>
                By default latest computed correlations are shown.
                Change date and click "Show Correlations" button to get data on that date
            </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <mat-accordion class="example-headers-align" multi>
                <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
                    <mat-expansion-panel [expanded]="true">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Execution Details
                            </mat-panel-title>
                            <mat-panel-description>
                                Click here to collapse the section for max. space
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <div class="grid grid-rows-1 grid-flow-col gap-4">
                            <div>
                                <p class="font-semibold">Value Date</p>
                            </div>
                            <div>
                                <mat-form-field appearance="fill" style="width:180px">
                                    <mat-label>Date</mat-label>
                                    <input matInput [matDatepicker]="picker" [matDatepickerFilter]="holidayDateFilter"
                                        [max]="today" formControlName="valueDate">
                                    <mat-hint>MM/DD/YYYY</mat-hint>
                                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker [dateClass]="dateClass" #picker></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div>
                                <p class="font-semibold">Full Run or Delta</p>
                            </div>
                            <div>
                                <p class="font-bold">Full</p>
                            </div>
                            <div>
                                <button mat-raised-button color="primary" type="submit">
                                    Show Correlations
                                </button>&nbsp;
                                <button mat-raised-button color="accent" type="button" (click)="reset()"> Reset </button>
                            </div>
                        </div>
                    </mat-expansion-panel>
                </form>

            </mat-accordion>

            <table mat-table [dataSource]="data" class="mat-elevation-z8 demo-table">
                <ng-container [matColumnDef]="column" *ngFor="let column of columnsToDisplay">
                    <th mat-header-cell *matHeaderCellDef> {{columnNamesToDisplay[column]}} </th>
                    <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
            </table>
        </mat-card-content>

    </mat-card>
</div>